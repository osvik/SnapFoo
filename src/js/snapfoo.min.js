function snapFoo(e){"use strict";var t=[],a=[],n={},l={storeIntervalID:function(e){t.push(e)},clearIntervalIDs:{all:function(){for(var e=0;e<t.length;)clearInterval(t[e]),e++;for(;e<a.length;)clearInterval(a[e]),e++;a=[],t=[]},sequences:function(){for(;i<t.length;)clearInterval(t[i]),i++;t=[]},paths:function(){for(;i<a.length;)clearInterval(a[i]),i++;a=[]}},clearSpecificInterval:function(e){clearInterval(e)}},o={stop:{sectionAnimations:function(e){var t=Snap.select(e),a=t.selectAll("image","g","ellipse","rect","path","line");l.clearIntervalIDs(),a.forEach(function(e){e.stop()})},specificAnimation:function(e){var t="#"+$(e).parents("svg").attr("id"),a=Snap.select(t),n=a.selectAll(e);n.forEach(function(e){e.stop()})}},setSVGElementAttrWithSnap:function(t,a){var n=Snap.select(e),l=n.select(t);l.attr(a)},animateSingleSVGElementWithSnap:function(t,a,l,i,o,s){i=i||mina.linear,o=o||0,s=s||null;var r=Snap.select(e),c=r.select(t);setTimeout(function(){c.stop().animate(a,l,i,function(){if(s)if("function"==typeof s)s();else for(var e in s)s[e]()})},o),t in n&&(n[t].frameProgress++,n[t].frameProgress>=n[t].totalFrames&&n[t].doLoop&&(n[t].frameProgress=0,n[t].loopsCompleted++))},animateSequence:function(t,a,l){var i=l||0,s=a.loop||!1,r=a.loopCount||0,c=a.stagger||0,f=a.animationDelay||0,m=a.animationCallback||null;if(i>=a.keyframes.length){if(!s)return m&&m(),void(t in n&&delete n[t]);if(r>0){if(!(n[t].loopsCompleted<r))return void(t in n&&delete n[t]);o.animateSequence(t,a,0)}else o.animateSequence(t,a,0)}else{var p=a.keyframes[i].options||{},u=a.keyframes[i].values,h=a.keyframes[i].duration,v=a.keyframes[i].easing||mina.linear,g=p.keyframeDelay||0,d=p.keyframeCallback||null;0==i&&s&&0!=r&&void 0==n[t]&&(n[t]={},n[t].loopsCompleted=0),i>0&&(f=0),setTimeout(function(){var l=0;$(t).each(function(){if($(this).parents(e).length){if($(this).is('[class^="sf"]'))var t=$(this).attr("class");else{var f=$(this).attr("class"),t="sf"+l+" "+f;$(this).attr("class",t)}t="."+t.replace(" ","."),d=p.keyframeCallback?{custom:p.keyframeCallback,"default":o.animateSequence.bind(null,t,a,i+1)}:{"default":o.animateSequence.bind(null,t,a,i+1)},t in n||(n[t]={frameProgress:0,totalFrames:a.keyframes.length,values:{},doLoop:s,loopsCompleted:0,totalLoops:r}),i==n[t].frameProgress&&o.animateSingleSVGElementWithSnap(t,u,h,v,c*l+g,d),l++}})},f)}},animateSVGElementAlongPath:function(t,a,i,s,r,c,f,m,p){var u,h=Snap.select(e),v=h.select(t),g=h.select(a),d=g.getTotalLength(),S=v.getBBox(),y=S.x+S.width/2,I=S.y+S.height/2,f=f||!1,m=m||!1,k=0,A=d;f&&(k=d,A=0),setTimeout(function(){Snap.animate(k,A,function(e){u=g.getPointAtLength(e),v.attr({transform:"t"+(u.x-y)+","+(u.y-I)})},i,s,function(){c&&c(),m?setTimeout(function(){Snap.animate(A,k,function(e){u=g.getPointAtLength(e),v.attr({transform:"t"+(u.x-y)+","+(u.y-I)})},p.duration,p.easing,function(){p.callback&&p.callback(),t in n&&(n[t].loopsCompleted++,n[t].totalLoops>0&&n[t].loopsCompleted==n[t].totalLoops-1&&(l.clearSpecificInterval(n[t].intervalID),o.stop.specificAnimation(t)))})},p.delay):t in n&&(n[t].loopsCompleted++,n[t].totalLoops>0&&n[t].loopsCompleted>=n[t].totalLoops-1&&(l.clearSpecificInterval(n[t].intervalID),o.stop.specificAnimation(t)))})},r)},animateAlongAPath:function(t,i,s,r){var c=r||{},f=c.easing||mina.linear,m=c.stagger||0,p=c.delay||0,u=c.callback||null,h=c.reversePathDirection||!1,v=c.reverseAtEnd||!1,g=c.loop||!1,d=c.loopOptions||{},S=c.reverseOptions||{},y=d.loopCount||0,I=s,k=S.duration||s,A=S.easing||mina.linear,C=S.callback||null,D=S.delay||0,P={delay:D,easing:A,duration:k,callback:C};setTimeout(function(){var r=0;$(t).each(function(){if($(this).parents(e).length){if($(this).is('[class^="sf"]'))c=$(this).attr("class");else{var t=$(this).attr("class"),c="sf"+r+" "+t;$(this).attr("class",c)}c="."+c.replace(" ","."),c in n||(n[c]={loopsCompleted:0,totalLoops:y,intervalID:0,theDelay:m*r},r++),o.animateSVGElementAlongPath(c,i,s,f,n[c].theDelay,u,h,v,P),g&&(v&&(I=2*s+P.delay),a=setInterval(function(){setTimeout(function(){o.setSVGElementAttrWithSnap(c,{transform:"t0,0"}),o.animateSVGElementAlongPath(c,i,s,f,0,u,h,v,P)},n[c].theDelay)},I),l.storeIntervalID(a),n[c].intervalID=a)}})},p)}};return{stop:o.stop,clear:l.clearIntervalIDs,set:o.setSVGElementAttrWithSnap,animate:o.animateSequence,animatePath:o.animateAlongAPath}}